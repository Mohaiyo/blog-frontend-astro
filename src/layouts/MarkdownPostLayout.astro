---
import Layout from './Layout.astro'

interface Props {
  frontmatter: {
    title: string;
    pubDate: Date;
    description: string;
    author: string;
    tags: string[],
    image: {
      url: string;
      alt: string
    }
  }
}

const { frontmatter } = Astro.props
---

<Layout title={frontmatter.title} >
  <h1 class="post__title" transition:animate="slide"> {frontmatter.title}</h1>
  <p class="post__descr"><em>{frontmatter.description}</em></p>
  <div class="post__meta-info">
    <span class="post__pub-date">{frontmatter.pubDate && frontmatter.pubDate.toString().slice(0, 10)}</span>
    <span class="post__divider post__divider--vercial"></span>
    <span class="post__author"><a href="/about">{frontmatter.author}</a></span>
  </div>
  <div class="post__cover">
    <img src={frontmatter.image.url} alt={frontmatter.image.alt} />
  </div>

  <div class="post__tags">
    {
      frontmatter.tags.map((tag) => (
        <p class="post__tag">
          <a href={`/tags/${tag}`}>{tag}</a>
        </p>
      ))
    }
  </div>
  <slot />
</Layout>

<style lang="scss">
  .post {
    &__title {
      font-size: 32px;
    }
    &__descr {
      @apply text-xs;
      color: #333;
    }
    &__meta-info {
      @apply text-xs flex justify-end gap-2 mb-2 items-center;
      color: #666;
    }
    &__pub-date{
      text-align: right;
    }
    &__cover{
      @apply mb-2;
      max-height: 200px;
      overflow: hidden;
      border-radius: 8px;
      img {
        width: 100%;
      }
    }
    &__tags {
      display: flex;
      flex-wrap: wrap;
      color: #fff;
      @apply mb-5;
    }

    &__tag {
      margin: 4px;
      border-radius: 999px;
      background-color: #18181b;
      text-transform: uppercase;
      @apply text-xs px-4 py-2;
    }
    &__divider{
      width: 1px;
      background-color: #666;
      height: 12px;
    }
  }
</style>